#!/usr/bin/env groovy

pipeline 
{
	environment
 	{
        	WORKSPACE = "${workspace}"
        	LANG="en_US.UTF-8"
   	}	
   
    	agent any 

	stages {		
		stage('clean workspace')
		{
			steps 
			{
				cleanWs()
			}
		}

        }

        stage('Checkout')
	{ 
        	steps
	 	{
              //  checkout changelog: false, poll: false, scm: [$class: 'GitSCM', branches: [[name: '*/master']], doGenerateSubmoduleConfigurations: false, extensions: [[$class: 'RelativeTargetDirectory', relativeTargetDir: 'Mobile_code']], submoduleCfg: [], userRemoteConfigs: [[credentialsId: '8fa39ba3-2400-4435-84ca-46ab8f20d507', url: 'https://github.com/pradeepvimal/ProjectC.git']]]
		git credentialsId: 'b83dfd67-c98d-4334-a2c2-4de178bf9cd1', url: 'https://github.com/pradeepvimal/ProjectC.git'
		}
	}
	
        stage('setBuildNumber')
	{ 
        	steps
		{
               		sh 'ruby ../../setBuildNumber.rb ProjectCÂ®-Info.plist ${BUILD_NUMBER}'
            	}
	}
}
